
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>איפוס נשק — Zeroing</title>
  ./assets/style.css
</head>
<body>
  <header>
    <h1>איפוס נשק — צמ"מ 8109</h1>
    <p class="hint">⚠ מומלץ לפתוח ב‑Chrome / Safari. עובד גם ב‑Edge (ללא תוספים חוסמים).</p>
  </header>

  <main>
    <section class="controls">
      <h2>הגדרות קליקים לנשק הנבחר</h2>
      <div class="grid g2">
        <label>
          שם פלוגה
          <select id="unitCompany">
            <option value="א׳">א׳</option>
            <option value="ב׳">ב׳</option>
            <option value="ג׳">ג׳</option>
            <option value="מסייעת">מסייעת</option>
            <option value="מפקדה">מפקדה</option>
          </select>
        </label>
        <label>
          מחלקה
          <select id="unitPlatoon">
            <option value="מפקדה">מפקדה</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
          </select>
        </label>
      </div>

      <label class="full">
        סוג נשק
        <select id="weaponType">
          <option value="">בחר נשק…</option>
          <option value="M16-iron">M16 ארוך — כוונות ברזל</option>
          <option value="M16-optic">M16 ארוך — כוונת אופטית</option>
          <option value="M16-trijicon">M16 — Trijicon</option>
          <option value="M4-iron">M4 — כוונות ברזל</option>
          <option value="M4-optic">M4 — כוונת אופטית</option>
          <option value="M4-trijicon">M4 — Trijicon</option>
          <option value="Tavor">תבור</option>
        </select>
      </label>

      <div class="grid g3">
        <label>
          גודל קובייה בדף (בס"מ)
          <input type="number" id="gridSizeCm" value="1" step="0.1" min="0.1">
        </label>
        <label>
          קליקים בגובה עבור קובייה אחת
          <input type="number" id="elevClicksPerSquare" value="0" step="0.1" min="0">
        </label>
        <label>
          קליקים בצידוד עבור קובייה אחת
          <input type="number" id="windClicksPerSquare" value="0" step="0.1" min="0">
        </label>
      </div>
      <p class="note">הערה: אם ברצונך חישוב אוטומטי לפי הנשק, עדכן את טבלת היחסים ב‑<code>assets/app.js</code> (ראה הערות בקובץ).</p>

      <div class="actions">
        <button id="btnConfirmRatios" class="primary">אישור יחס קובייה‑קליקים</button>
      </div>
    </section>

    <section class="upload">
      <h2>צילום / העלאת דף איפוס</h2>
      <input type="file" id="zeroingImage" accept="image/*">
      <div class="canvasWrap">
        <canvas id="zeroingCanvas" width="800" height="600" aria-label="קנבס איפוס"></canvas>
        <div class="toolbar">
          <button id="btnDesiredHit">נקודת פגיעה רצויה</button>
          <button id="btnRuler">הגדרת סרגל (1 ס"מ)</button>
          <button id="btnHits">סמן פגיעות</button>
          <button id="btnClearHits" class="ghost">ניקוי פגיעות</button>
          <span id="modeLabel">מצב נוכחי: אין</span>
        </div>
      </div>
      <div class="actions">
        <button id="btnCompute" class="primary">חשב תיקון</button>
        <span id="resultText" class="result"></span>
      </div>
    </section>

    <section class="certificate">
      <h2>תעודת איפוס</h2>
      <div class="actions">
        <button id="btnMakeCert">צור תעודת איפוס</button>
        <button id="btnOpenWhatsApp" class="ghost">פתח WhatsApp לשליחת התעודה</button>
        <a id="btnDownloadCert" class="link" download="zeroing_certificate.png">הורד תעודת איפוס כתמונה</a>
      </div>
      <canvas id="certCanvas" width="1024" height="768" class="cert"></canvas>
      <p class="hint">לאחר הורדת התמונה ניתן לשתף אותה דרך WhatsApp (שיתוף → WhatsApp + בחירת התמונה מהגלריה).</p>
    </section>
  </main>

  <footer>
    <small>© 2025 — נבנה ל‑GitHub Pages. ללא ספריות חיצוניות. עובד ב‑Chrome/Safari/Edge.</small>
  </footer>

  ./assets/app.js</script>
</body>
